{% extends 'base.html.twig' %}

{% block body %}
<div class="bg-cover h-screen bg-[url('/assets/backgroundSymfony.png')]">

  <div class="flex justify-between items-center py-3 bg-emerald-200">
    <a href="{{ path('app_home') }}" class="flex w-1/12 h-1/12 cursor-pointer">
      <img src="assets/logo.png" class="flex w-1/3 h-1/3 ml-4">
    </a>
    <a href="{{ path('app_home') }}" class="absolute text-2xl font-semibold ml-20 cursor-pointer ">Green Challenges</a>
    <a href="{{ path('app_challenge_list') }}" class="text-2xl mx-10">Défis</a>
    <a href="{{ path('app_scores') }}" class="text-2xl mx-10">Scores</a>
    {% if app.user %}
      <a href="{{ path('app_profile') }}" class="text-2xl cursor-pointer mx-10">{{ app.user.username }}</a>
    {% else %}
      <a href="{{ path('app_login') }}" class="text-2xl cursor-pointer mx-10">Connexion</a>
    {% endif %}
  </div>
  
  {% for flash_message in app.flashes('error') %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative  w-2/5" role="alert">
        <strong class="font-bold">Erreur !</strong>
        <span class="block sm:inline">{{ flash_message }}</span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
            <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Fermer</title><path d="M14.348 5.651a.5.5 0 010 .707L10.707 10l3.641 3.643a.5.5 0 11-.707.707L10 10.707l-3.643 3.64a.5.5 0 01-.707-.707L9.293 10 5.65 6.348a.5.5 0 01.707-.707L10 9.293l3.643-3.643a.5.5 0 01.705 0z"/></svg>
        </span>
    </div>
  {% endfor %}

  {% for flash_message in app.flashes('success') %}
    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative p-4 w-2/5" role="alert">
        <strong class="font-bold">Succès !</strong>
        <span class="block sm:inline">{{ flash_message }}</span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
            <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Fermer</title><path d="M14.348 5.651a.5.5 0 010 .707L10.707 10l3.641 3.643a.5.5 0 11-.707.707L10 10.707l-3.643 3.64a.5.5 0 01-.707-.707L9.293 10 5.65 6.348a.5.5 0 01.707-.707L10 9.293l3.643-3.643a.5.5 0 01.705 0z"/></svg>
        </span>
    </div>
  {% endfor %}

  <span class="text-3xl mb-3 font-bold text-lime-700 flex justify-center mt-24">Inscription</span>

  <div class="flex justify-center items-center w-full mt-10">
      {{ form_start(form) }}
        {{ form_row(form.username, {'attr': {'class': "mb-6 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"}}) }}
        {{ form_row(form.email, {'attr': {'class': 'flex justify-center items-center mb-6 form-contro shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light'}, }) }}
        {{ form_row(form.password, {'attr': {'class': "mb-6 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"}}) }}
        {{ form_row(form.roles, {'attr': {'class': 'mb-6 form-check'}}) }}
        {{ form_row(form.add, {'attr': {'class': "flex justify-center items-center mb-6 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}}) }}
    {{ form_end(form) }}
  </div>

  <a href="{{ path('app_login') }}" class="text-2xl cursor-pointer flex justify-center text-lime-700 mt-3">Vous avez déjà un compte ?</a>
</div>

{% endblock %}
